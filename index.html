<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PoseSense | Interactive Yoga Pose Checker</title>

<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,
<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22>
<text y=%2285%22 font-size=%2285%22>üßò‚Äç‚ôÄÔ∏è</text>
</svg>">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --dark-red: #e63946;
    --red: #f06670;
    --orange: #ff9f43;
    --yellow: #ffd60a;
    --white: #ffffff;
    --dark: #1d1d1d;
}

/* GENERAL */
* { box-sizing: border-box; }
body { 
    margin: 0; 
    font-family: 'Poppins', sans-serif;
    color: var(--dark);
    overflow-x: hidden;
    background: #fff3b0;
    position: relative;
    min-height: 100vh;
}

/* BACKGROUND CIRCLES */
.background-circle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.15;
    animation: float 25s linear infinite;
}
@keyframes float {
    0% { transform: translateY(0) translateX(0); }
    50% { transform: translateY(-30px) translateX(20px); }
    100% { transform: translateY(0) translateX(0); }
}

/* HERO */
header {
    min-height: 100vh;
    padding: 80px 20px;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 2;
}
header h1 {
    font-size: 4rem;
    color: var(--dark-red);
    letter-spacing: 1px;
    transition: 0.3s ease;
}
header h1:hover { transform: scale(1.05); color: var(--orange); }
header p {
    font-size: 1.4rem;
    max-width: 760px;
    margin: 20px auto;
    transition: 0.3s ease;
}
header p:hover { color: var(--red); transform: translateY(-3px); }

button {
    background: linear-gradient(135deg, var(--dark-red), var(--yellow));
    border: none;
    color: white;
    padding: 18px 48px;
    font-size: 1.2rem;
    border-radius: 60px;
    cursor: pointer;
    font-weight: 600;
    box-shadow: 0 15px 40px rgba(0,0,0,0.35);
    transition: 0.35s ease;
}
button:hover { transform: translateY(-6px) scale(1.07); }

/* SECTIONS */
section { padding: 80px 20px; max-width: 1200px; margin: auto; position: relative; z-index: 2; }
.section-title { text-align: center; font-size: 2.6rem; color: var(--dark-red); margin-bottom: 40px; transition: 0.3s ease; }
.section-title:hover { color: var(--orange); }

/* CARDS */
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 30px; }
.card { background: white; padding: 35px; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.15); position: relative; overflow: hidden; transition: 0.4s ease; }
.card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 25px 50px rgba(0,0,0,0.25); }

/* BENEFIT ITEMS */
.benefit { font-size: 1.1rem; display: flex; align-items: center; gap: 14px; }
.benefit span { background: linear-gradient(135deg, var(--dark-red), var(--yellow)); color: white; padding: 12px; border-radius: 50%; font-weight: 700; }

/* WEBCAM */
#webcam-container canvas { border-radius: 24px; border: 8px solid var(--dark-red); box-shadow: 0 25px 50px rgba(230,57,70,0.4); transition: 0.4s ease; }
#webcam-container canvas:hover { transform: scale(1.03); }

/* LABELS */
#label-container div { background: #fff1f1; color: var(--dark-red); padding: 12px; margin: 10px auto; width: 260px; border-radius: 16px; font-weight: 600; transition: 0.3s ease; }
#label-container div:hover { transform: translateY(-3px); color: var(--orange); }

/* BENEFITS BOX */
#benefits { display: none; margin-top: 30px; padding: 28px; background: linear-gradient(135deg, #fff8cc, #ffe6e6); border-radius: 22px; font-size: 1.2rem; border-left: 10px solid var(--dark-red); transition: 0.4s ease; animation: fadeUp 0.6s ease; }

/* POSTURE TIPS */
#pose-tips { margin-top: 20px; font-size: 1rem; color: var(--dark); background: #fffbe6; padding: 20px; border-radius: 16px; border-left: 8px solid var(--orange); }

/* ANIMATIONS */
@keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>

<body>

<!-- BACKGROUND CIRCLES -->
<div class="background-circle" style="width:200px; height:200px; top:10%; left:10%; background: var(--dark-red);"></div>
<div class="background-circle" style="width:250px; height:250px; top:30%; left:70%; background: var(--red); animation-delay:3s;"></div>
<div class="background-circle" style="width:180px; height:180px; top:50%; left:40%; background: var(--orange); animation-delay:6s;"></div>
<div class="background-circle" style="width:220px; height:220px; top:70%; left:20%; background: var(--yellow); animation-delay:9s;"></div>

<header>
    <h1>PoseSense</h1>
    <p>A browser-based pose checker that helps people stay active, improve posture, and move with confidence.</p>
    <br>
    <button onclick="init()">Try it out!</button>
</header>

<section>
    <h2 class="section-title">The Challenge</h2>
    <div class="card">
        <p>Many people want to exercise or stretch but are unsure if they are doing poses correctly. Without feedback, posture mistakes can reduce effectiveness and lead to discomfort.</p>
        <p>PoseSense provides real-time pose recognition using a webcam, helping users understand their movement and learn proper form in an interactive way.</p>
    </div>
</section>

<section>
    <h2 class="section-title">Who Benefits</h2>
    <div class="grid">
        <div class="card benefit"><span>‚úì</span> Beginners learning proper posture</div>
        <div class="card benefit"><span>‚úì</span> Students and desk workers</div>
        <div class="card benefit"><span>‚úì</span> Home fitness users</div>
        <div class="card benefit"><span>‚úì</span> Anyone who wants fun, guided movement</div>
    </div>
</section>

<section style="text-align:center;">
    <h2 class="section-title">Live Pose Checker</h2>
    <p>Try: Stretch Pose ‚Ä¢ Squat Pose ‚Ä¢ Arms Up Pose</p>

    <div id="webcam-container"></div>
    <div id="label-container"></div>
    <div id="benefits"></div>
    <div id="pose-tips"></div>
</section>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

<script>
const URL = "./my_model/";
let model, webcam, labelContainer, maxPredictions;
let started = false;

async function init(){
    if(started) return;
    started = true;

    model = await tmImage.load(URL+"model.json", URL+"metadata.json");
    maxPredictions = model.getTotalClasses();

    webcam = new tmImage.Webcam(320,320,true);
    await webcam.setup();
    await webcam.play();
    window.requestAnimationFrame(loop);

    document.getElementById("webcam-container").appendChild(webcam.canvas);
    labelContainer = document.getElementById("label-container");
    for(let i=0;i<maxPredictions;i++){
        labelContainer.appendChild(document.createElement("div"));
    }
}

async function loop(){
    webcam.update();
    await predict();
    window.requestAnimationFrame(loop);
}

async function predict(){
    const prediction = await model.predict(webcam.canvas);
    let top={name:"",prob:0};
    for(let i=0;i<maxPredictions;i++){
        const p = prediction[i];
        labelContainer.childNodes[i].innerHTML = `${p.className}: ${p.probability.toFixed(2)}`;
        if(p.probability>top.prob) top=p;
    }
    showBenefits(top.name, top.prob);
}

function showBenefits(pose, prob){
    const box = document.getElementById("benefits");
    const tipsBox = document.getElementById("pose-tips");
    if(prob<0.8){
        box.style.display="none";
        tipsBox.style.display="none";
        return;
    }

    const messages = {
        "Stretch Pose":"Stretch Pose improves flexibility, reduces muscle stiffness, and helps prevent injury.",
        "Squat Pose":"Squat Pose strengthens the legs, activates the core, and improves balance.",
        "Arms Up Pose":"Arms Up Pose improves posture, opens the chest, and boosts circulation."
    };

    const tips = {
        "Stretch Pose":"Keep your back straight, inhale deeply while stretching arms, hold 10-15 seconds.",
        "Squat Pose":"Feet shoulder-width apart, chest up, engage core, keep knees behind toes.",
        "Arms Up Pose":"Raise arms fully, keep shoulders relaxed, breathe steadily, avoid arching back."
    };

    box.innerHTML = messages[pose] || "";
    tipsBox.innerHTML = tips[pose] || "";
    box.style.display="block";
    tipsBox.style.display="block";
}
</script>

</body>
</html>
